(this.webpackJsonpneander=this.webpackJsonpneander||[]).push([[0],{23:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n.n(r),s=n(11),o=n.n(s),i=n(2),u=n(15),l=n(0);!function(e){e[e.BINARY=0]="BINARY",e[e.UNARY=1]="UNARY",e[e.ADDR=2]="ADDR"}(c||(c={}));var j,b,O={0:{op:"NOP",op_type:c.UNARY},16:{op:"STA",op_type:c.BINARY},32:{op:"LDA",op_type:c.BINARY},48:{op:"ADD",op_type:c.BINARY},64:{op:"OR",op_type:c.BINARY},80:{op:"AND",op_type:c.BINARY},96:{op:"NOT",op_type:c.UNARY},128:{op:"JMP",op_type:c.BINARY},144:{op:"JN",op_type:c.BINARY},160:{op:"JZ",op_type:c.BINARY},240:{op:"HLT",op_type:c.UNARY}},d=Object(r.createContext)({}),p=function(e){var t=e.children,n=Object(r.useState)(0),a=Object(i.a)(n,2),s=a[0],o=a[1],j=Object(r.useState)(0),b=Object(i.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)((function(){for(var e=new Array(256),t=0;t<e.length;t++)e[t]={value:0,type:c.UNARY};return e})),x=Object(i.a)(f,2),v=x[0],m=x[1],A=Object(r.useState)(M(p)<0),y=Object(i.a)(A,2),N=y[0],g=y[1],k=Object(r.useState)(0===p),R=Object(i.a)(k,2),_=R[0],S=R[1],D=Object(r.useState)(!0),C=Object(i.a)(D,2),Y=C[0],w=C[1],P=Object(r.useState)(300),I=Object(i.a)(P,2),B=I[0],T=(I[1],Object(r.useState)(0)),J=Object(i.a)(T,2),U=J[0],Z=J[1];function M(e){return e>=128?-(255-e):e}function z(){var e,t=s,n=v[t],r=O[v[t].value>>4<<4]||O[0],a=v[t+1];switch(n.type==c.BINARY?t+=2:t+=1,Z((function(e){return e+1})),r.op){case"NOP":console.log("N\xe3o fez nada");break;case"STA":E(a.value,p);break;case"LDA":F(a.value);break;case"ADD":!function(e){h((function(t){return t+v[e].value}))}(a.value);break;case"OR":e=a.value,h((function(t){return t|e}));break;case"AND":!function(e){h((function(t){return t&e}))}(a.value);break;case"NOT":h((function(e){return~e}));break;case"JMP":t=a.value;break;case"JN":N&&(t=a.value);break;case"JZ":_&&(t=a.value);break;case"HLT":w(!0)}s<v.length&&o(t)}function F(e){h(v[e].value)}function E(e,t){e<0||e>255||m((function(n){n[e].value=t;for(var r=e;r<n.length;r++){var a=O[n[r].value>>4<<4]||O[0];if(0===r)n[r].type=a.op_type;else n[r-1].type===c.BINARY?n[r].type=c.ADDR:n[r].type=a.op_type;if(n[r].type!==c.BINARY&&r!==e)break}return Object(u.a)(n)}))}Object(r.useEffect)((function(){g(M(p)<0),S(0===p)}),[p]),Object(r.useEffect)((function(){!Y&&s<v.length&&U<=B?(z(),console.log("Dando um passo",U)):(s>=v.length||U>B)&&w(!0)}),[Y,s]);var L={ac:p,flagN:N,flagZ:_,memory:v,pc:s,colocarSinal:M,op_load:F,step:z,zerarAc:function(){h(0)},changeMemoryType:function(e,t){v[e].type=t},updateMem:E,zerarPc:function(){o(0)},run:function(){w(!1)}};return Object(l.jsx)(d.Provider,{value:L,children:t})},h=function(){return Object(r.useContext)(d)},f=function(){var e,t=h(),n=t.pc,c=t.ac,a=t.colocarSinal,s=t.flagN,o=t.flagZ,u=t.step,j=t.zerarAc,b=t.op_load,O=t.zerarPc,d=t.run,p=Object(r.useState)(0),f=Object(i.a)(p,2),x=f[0],v=f[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"ac_panel",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["AC: ",c]}),Object(l.jsxs)("p",{children:["AC(Com sinal): ",a(c)]})]}),Object(l.jsx)("button",{onClick:function(e){return j()},children:"Zerar AC"}),Object(l.jsx)("label",{htmlFor:"set_ac",children:"Set Ac:"}),Object(l.jsx)("input",{type:"number",name:"set_ac",id:"set_ac",min:"0",value:x,onChange:function(e){return v(parseInt(e.target.value))}}),Object(l.jsx)("button",{onClick:function(e){return b(x)},children:"Set AC"})]}),Object(l.jsx)("div",{className:"pc_panel",children:Object(l.jsxs)("p",{children:["PC: ",(e=n,e.toString().padStart(3,"0"))]})}),Object(l.jsxs)("div",{className:"flags",children:[Object(l.jsxs)("span",{children:["N: ",s?"True":"False"]}),Object(l.jsxs)("span",{children:["Z: ",o?"True":"False"]})]}),Object(l.jsxs)("div",{className:"controls",children:[Object(l.jsx)("button",{onClick:function(e){return u()},children:"Step"}),Object(l.jsx)("button",{onClick:function(e){return O()},children:"Zerar Pc"}),Object(l.jsx)("button",{onClick:function(e){return d()},children:"Run"})]})]})},x=function(){return Object(l.jsx)("header",{children:Object(l.jsxs)("h1",{children:["Neander Simulator Version ","0.0.1"]})})},v=function(){return Object(l.jsx)("div",{children:Object.entries(O).map((function(e,t){var n=Object(i.a)(e,2),c=n[0],r=n[1];return Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:r.op}),": ",c]},"instruction_map_item_".concat(t))}))})},m=function(){var e=h().memory;return function(t){return O[e[t].value>>4<<4]||O[0]}},A=n(7),y=n(8),N=y.b.tr(j||(j=Object(A.a)(["\n  ","\n"])),(function(e){if(e.selecting)return Object(y.a)(b||(b=Object(A.a)(["\n        background-color: lightblue;\n      "])))})),g=function(e){var t=e.addr,n=e.mem_data,r=e.showOP,a=e.showP,s=e.selected,o=e.selecting,i=e.onClick,u=m(),j=h(),b=j.pc,O=j.memory;return Object(l.jsxs)(N,{onClick:i,selecting:!(!s||!o),children:[a&&Object(l.jsx)("td",{children:b===t&&">"}),Object(l.jsx)("td",{children:t}),Object(l.jsx)("td",{children:n.value}),r&&Object(l.jsx)("td",{children:n.type===c.ADDR?"":Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("span",{children:[u(t).op," \xa0"]}),n.type===c.BINARY&&t<O.length&&Object(l.jsx)("span",{children:O[t+1].value})]})})]})},k=function(e){var t=e.showOP,n=e.showP,c=e.selecting,r=e.selected,a=e.onClick,s=h().memory;return Object(l.jsxs)("table",{style:{display:"inline-block",height:"350px",overflow:"auto"},children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[n&&Object(l.jsx)("th",{children:"P"}),Object(l.jsx)("th",{children:"Address"}),Object(l.jsx)("th",{children:"Data"}),t&&Object(l.jsx)("th",{children:"Operation"})]})}),Object(l.jsx)("tbody",{children:s.map((function(e,s){return Object(l.jsx)(g,{mem_data:e,addr:s,selected:r===s,selecting:c,showP:n,showOP:t,onClick:function(e){return null===a||void 0===a?void 0:a(s)}},"".concat(s,"_").concat(e.value))}))})]})},R=function(){var e=h(),t=e.memory,n=e.updateMem,c=Object(r.useState)(0),a=Object(i.a)(c,2),s=a[0],o=a[1],u=Object(r.useState)(!1),j=Object(i.a)(u,2),b=j[0],O=j[1],d=Object(r.useState)(0),p=Object(i.a)(d,2),f=p[0],x=p[1];function v(e){var t;x(e),null===(t=m.current)||void 0===t||t.focus(),b||O(!0)}Object(r.useEffect)((function(){var e;o(t[f].value),null===(e=m.current)||void 0===e||e.select()}),[f]);var m=Object(r.useRef)(null);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(f+1),n(f,s)},children:[Object(l.jsx)(k,{selected:f,selecting:b,showOP:!0,showP:!0,onClick:v}),Object(l.jsxs)("label",{htmlFor:"teste2",children:["Addr: ",f]}),Object(l.jsx)("input",{onBlur:function(e){O(!1)},onKeyDown:function(e){switch(e.key){case"ArrowDown":x((function(e){return e>t.length?e:e+1})),e.preventDefault();break;case"ArrowUp":x((function(e){return e<=0?e:e-1})),e.preventDefault()}},ref:m,type:"number",name:"teste2",id:"teste2",min:"0",max:"255",value:s,onChange:function(e){return o(parseInt(e.target.value))}}),Object(l.jsx)("button",{type:"submit",children:"Set mem"})]}),Object(l.jsx)(k,{selected:f,selecting:b,onClick:v})]})},_=function(){return Object(l.jsxs)(p,{children:[Object(l.jsx)(x,{}),Object(l.jsxs)("main",{children:[Object(l.jsx)(v,{}),Object(l.jsx)(f,{}),Object(l.jsx)(R,{})]})]})};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(_,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.c0d96129.chunk.js.map