(this.webpackJsonpneander=this.webpackJsonpneander||[]).push([[0],{23:function(e,n,t){"use strict";t.r(n);var c,r,a,i=t(1),o=t.n(i),s=t(11),l=t.n(s),u=t(2),j=t(15),d=t(3),b=t(4),p=Object(b.a)(c||(c=Object(d.a)(["\n  *{\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  body{\n    background: #EBEBEB;\n    color: #363636;\n  }\n\n  button{\n    padding: 4px 10px;\n    cursor: pointer;\n    border: 1px solid #363636;\n    border-radius: 2px;\n\n    &:hover{\n      background-color: #D6D6D6;\n    }\n  }\n"]))),f=b.c.div(r||(r=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n\n  padding: 40px 0;\n\n  h1{\n    padding: 20px;\n  }\n  /* gap: 16px; */\n"]))),x=t(0);!function(e){e[e.BINARY=0]="BINARY",e[e.UNARY=1]="UNARY",e[e.ADDR=2]="ADDR"}(a||(a={}));var O,h,g,v,m,y,N,A,w,k,R={0:{op:"NOP",op_type:a.UNARY},16:{op:"STA",op_type:a.BINARY},32:{op:"LDA",op_type:a.BINARY},48:{op:"ADD",op_type:a.BINARY},64:{op:"OR",op_type:a.BINARY},80:{op:"AND",op_type:a.BINARY},96:{op:"NOT",op_type:a.UNARY},128:{op:"JMP",op_type:a.BINARY},144:{op:"JN",op_type:a.BINARY},160:{op:"JZ",op_type:a.BINARY},240:{op:"HLT",op_type:a.UNARY}},D=Object(i.createContext)({}),S=function(e){var n=e.children,t=Object(i.useState)(0),c=Object(u.a)(t,2),r=c[0],o=c[1],s=Object(i.useState)(0),l=Object(u.a)(s,2),d=l[0],b=l[1],p=Object(i.useState)((function(){for(var e=new Array(256),n=0;n<e.length;n++)e[n]={value:0,type:a.UNARY};return e})),O=Object(u.a)(p,2),h=O[0],g=O[1],v=Object(i.useState)(Z(d)<0),m=Object(u.a)(v,2),y=m[0],N=m[1],A=Object(i.useState)(0===d),w=Object(u.a)(A,2),k=w[0],S=w[1],_=Object(i.useState)(!0),C=Object(u.a)(_,2),I=C[0],Y=C[1],B=Object(i.useState)(300),P=Object(u.a)(B,2),E=P[0],J=(P[1],Object(i.useState)(0)),M=Object(u.a)(J,2),T=M[0],U=M[1];function Z(e){return e>=128?-(h.length-e):e}function z(e){if("number"===typeof e)e=V(e),b(e);else{var n=e;b((function(e){return V(n(V(e)))}))}}function L(){var e,n=r,t=h[n],c=R[h[n].value>>4<<4]||R[0],i=h[n+1];switch(t.type===a.BINARY?n+=2:n+=1,U((function(e){return e+1})),c.op){case"NOP":console.log("N\xe3o fez nada");break;case"STA":H(i.value,d);break;case"LDA":F(i.value);break;case"ADD":!function(e){z((function(n){return n+h[e].value}))}(i.value);break;case"OR":e=i.value,z((function(n){return n|e}));break;case"AND":!function(e){z((function(n){return n&e}))}(i.value);break;case"NOT":z((function(e){return~e}));break;case"JMP":n=i.value;break;case"JN":y&&(n=i.value);break;case"JZ":k&&(n=i.value);break;case"HLT":Y(!0)}r<h.length&&o(n)}function F(e){z(h[e].value)}function V(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return n=Math.pow(2,n),e<0&&(e=n+e),e&n-1}function H(e,n){n=V(n),e=V(e),g((function(t){t[e].value=n;for(var c=e;c<t.length;c++){var r=R[t[c].value>>4<<4]||R[0];if(0===c)t[c].type=r.op_type;else t[c-1].type===a.BINARY?t[c].type=a.ADDR:t[c].type=r.op_type;if(t[c].type!==a.BINARY&&c!==e)break}return Object(j.a)(t)}))}Object(i.useEffect)((function(){N(Z(d)<0),S(0===d)}),[d]),Object(i.useEffect)((function(){!I&&r<h.length&&T<=E?(L(),console.log("Dando um passo",T)):(r>=h.length||T>E)&&Y(!0)}),[I,r]);var K={ac:d,flagN:y,flagZ:k,memory:h,pc:r,colocarSinal:Z,op_load:F,step:L,setNewAc:function(e){z(e)},changeMemoryType:function(e,n){h[e].type=n},updateMem:H,zerarPc:function(){o(0)},run:function(){Y(!1)},bitComplement:V};return Object(x.jsx)(D.Provider,{value:K,children:Object(x.jsx)(f,{children:n})})},_=function(){return Object(i.useContext)(D)};function C(){return function(e){var n=e.nativeEvent,t=parseInt(e.target.value);if("input"===n.type){if(null===n.data||"-"===n.data)return!0;if(!isNaN(t)&&!isNaN(parseInt(n.data)))return!0}return!1}}var I=b.c.main(O||(O=Object(d.a)(["\n  display: flex;\n  /* align-items: flex-start; */\n  align-content: flex-start;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  gap: 10px;\n  flex-wrap: wrap;\n  padding: 0 24px;\n\n  & > *{\n    flex: 3;\n    flex-basis: 50%;\n    align-self: center;\n  }\n"]))),Y=b.c.ul(h||(h=Object(d.a)(["\n  flex: 1;\n  width: 350px;\n  border: 5px solid #363636;\n  border-radius: 16px;\n\n  list-style: none;\n  padding: 8px;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n\n  li{\n    flex: 1;\n    flex-basis: 25%;\n    text-align: center;\n    padding: 5px 0;\n  }\n"]))),B=b.c.div(g||(g=Object(d.a)(["\n  width: 60%;\n  max-width: 300px;\n  fieldset{\n    padding: 10px 16px;\n  }\n"]))),P=b.c.fieldset(v||(v=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n"]))),E=Object(b.c)(P)(m||(m=Object(d.a)(["\n  .acValues{\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 16px;\n\n    button{\n      align-self: flex-end;\n      padding: 4px 10px;\n      cursor: pointer;\n    }\n  }\n\n  .setAc{\n    input{\n      margin-right: 16px;\n    }\n  }\n"]))),J="\n  font-size: 20px;\n  font-weight: 600;\n",M=Object(b.c)(P)(y||(y=Object(d.a)(["\n  flex-direction: row;\n  gap: 12px;\n  justify-content: space-evenly;\n\n  span{\n    width: 60px;\n    aspect-ratio: 1;\n    text-align: center;\n    line-height: 60px;\n    color: white;\n    background-color: red;\n\n    border-radius: 50%;\n    border: 3px inset #363636;\n    ","\n\n    &.active{\n      background-color: green;\n    }\n  }\n"])),J),T=Object(b.c)(P)(N||(N=Object(d.a)(["\n  flex-direction: row;\n  justify-content: flex-start;\n  gap: 12px;\n"]))),U=b.c.span(A||(A=Object(d.a)(["\n  ","\n  padding: 14px;\n  border: 2px groove threedface;\n"])),J),Z=b.c.div(w||(w=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: center;\n  width: 600px;\n  height: 100%;\n\n  form, .just_see{\n    flex: 1;\n    flex-basis: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n  }\n\n  .just_see{\n    flex-basis: 40%;\n  }\n"]))),z=b.c.table(k||(k=Object(d.a)(["\n  display: block;\n  /* flex: 1; */\n  flex-basis: 70%;\n  /* align-self: stretch; */\n  height: 350px;\n  overflow: auto;\n"]))),L=function(){var e,n=_(),t=n.pc,c=n.ac,r=n.colocarSinal,a=n.flagN,o=n.flagZ,s=n.step,l=n.setNewAc,j=n.zerarPc,d=n.run,b=Object(i.useState)(""),p=Object(u.a)(b,2),f=p[0],O=p[1],h=C();return Object(x.jsxs)(B,{children:[Object(x.jsxs)(E,{children:[Object(x.jsx)("legend",{children:"AC:"}),Object(x.jsxs)("div",{className:"acValues",children:[Object(x.jsx)(U,{children:c}),Object(x.jsx)("button",{onClick:function(e){return l(0)},children:"Zerar"}),Object(x.jsx)(U,{children:r(c)})]}),Object(x.jsxs)("form",{className:"setAc",onSubmit:function(e){e.preventDefault(),l(parseInt(f)||0),O("")},children:[Object(x.jsx)("input",{type:"text",name:"set_ac",id:"set_ac",placeholder:"New AC value[-128, 255]",autoComplete:"off",value:f,onFocus:function(e){return e.target.select()},onChange:function(e){h(e)&&O(e.target.value)}}),Object(x.jsx)("button",{type:"submit",children:"Set"})]})]}),Object(x.jsxs)(P,{children:[Object(x.jsx)("legend",{children:"PC:"}),Object(x.jsx)(U,{children:(e=t,e.toString().padStart(3,"0"))}),Object(x.jsx)("button",{onClick:function(e){return j()},children:"Zerar"})]}),Object(x.jsxs)(M,{children:[Object(x.jsx)("legend",{children:"Flags:"}),Object(x.jsx)("span",{className:"".concat(a?"active":""),children:"N"}),Object(x.jsx)("span",{className:"".concat(o?"active":""),children:"Z"})]}),Object(x.jsxs)(T,{children:[Object(x.jsx)("legend",{children:"Controls:"}),Object(x.jsx)("button",{onClick:function(e){return s()},children:"Step"}),Object(x.jsx)("button",{onClick:function(e){return d()},children:"Run"})]})]})},F=function(){return Object(x.jsx)(Y,{children:Object.entries(R).map((function(e,n){var t=Object(u.a)(e,2),c=t[0],r=t[1];return Object(x.jsxs)("li",{children:[Object(x.jsx)("strong",{children:r.op}),": ",c]},"instruction_map_item_".concat(n))}))})};var V,H,K=function(){var e=_().memory;return function(n){return R[e[n].value>>4<<4]||R[0]}},q=b.c.tr(V||(V=Object(d.a)(["\n  ","\n"])),(function(e){if(e.selecting)return Object(b.b)(H||(H=Object(d.a)(["\n        background-color: lightblue;\n      "])))})),G=function(e){var n=e.addr,t=e.mem_data,c=e.showOP,r=e.showP,i=e.selected,o=e.selecting,s=e.onClick,l=K(),u=_(),j=u.pc,d=u.memory;return Object(x.jsxs)(q,{onClick:s,selecting:!(!i||!o),children:[r&&Object(x.jsx)("td",{children:j===n&&">"}),Object(x.jsx)("td",{children:n}),Object(x.jsx)("td",{children:t.value}),c&&Object(x.jsx)("td",{children:t.type===a.ADDR?"":Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("span",{children:[l(n).op," \xa0"]}),t.type===a.BINARY&&n<d.length&&Object(x.jsx)("span",{children:d[n+1].value})]})})]})},Q=function(e){var n=e.showOP,t=e.showP,c=e.selecting,r=e.selected,a=e.onClick,i=_().memory;return Object(x.jsxs)(z,{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[t&&Object(x.jsx)("th",{children:"P"}),Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("th",{children:"Data"}),n&&Object(x.jsx)("th",{children:"Operation"})]})}),Object(x.jsx)("tbody",{children:i.map((function(e,i){return Object(x.jsx)(G,{mem_data:e,addr:i,selected:r===i,selecting:c,showP:t,showOP:n,onClick:function(e){return null===a||void 0===a?void 0:a(i)}},"".concat(i,"_").concat(e.value))}))})]})},W=function(){var e=_(),n=e.memory,t=e.updateMem,c=Object(i.useState)(""),r=Object(u.a)(c,2),a=r[0],o=r[1],s=Object(i.useState)(!1),l=Object(u.a)(s,2),j=l[0],d=l[1],b=Object(i.useState)(0),p=Object(u.a)(b,2),f=p[0],O=p[1],h=C(),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,n=_().bitComplement;return function(t){return n(t,e)}}();function v(e){var t,c;O(e),o(String(n[e].value)),null===(t=m.current)||void 0===t||t.focus(),null===(c=m.current)||void 0===c||c.select(),j||d(!0)}Object(i.useEffect)((function(){var e,n;null===(e=m.current)||void 0===e||e.focus(),null===(n=m.current)||void 0===n||n.select()}),[f]);var m=Object(i.useRef)(null);return Object(x.jsxs)(Z,{children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(f+1),t(f,parseInt(a)||0)},children:[Object(x.jsx)(Q,{selected:f,selecting:j,showOP:!0,showP:!0,onClick:v}),Object(x.jsx)("input",{onBlur:function(e){d(!1)},onKeyDown:function(e){switch(e.key){case"ArrowDown":v(g(f+1)),e.preventDefault();break;case"ArrowUp":v(g(f-1)),e.preventDefault()}},ref:m,name:"teste2",id:"teste2",value:a,onChange:function(e){h(e)&&o(e.target.value)},type:"text",placeholder:"Instruction n\xba[-128, 255]",autoComplete:"off",onFocus:function(e){return e.target.select()},onLoad:function(e){return console.log(e)},onClick:function(e){return v(f)}}),Object(x.jsx)("button",{type:"submit",children:"Set mem"})]}),Object(x.jsx)("div",{className:"just_see",children:Object(x.jsx)(Q,{selected:f,selecting:j,onClick:v})})]})},X=function(){return Object(x.jsxs)(S,{children:[Object(x.jsx)(p,{}),Object(x.jsxs)("h1",{children:["Neander Simulator Version ","0.0.2"]}),Object(x.jsxs)(I,{children:[Object(x.jsx)(F,{}),Object(x.jsx)(L,{}),Object(x.jsx)(W,{})]})]})};l.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(X,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.c5e63105.chunk.js.map